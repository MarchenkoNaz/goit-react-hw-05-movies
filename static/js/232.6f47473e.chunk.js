(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[232],{8828:function(e,r,t){"use strict";t.d(r,{n:function(){return n}});var n=function(e){return"https://www.themoviedb.org/t/p/w220_and_h330_face".concat(e)}},3457:function(e,r,t){"use strict";t.d(r,{Hg:function(){return o},TP:function(){return p},tx:function(){return d},zi:function(){return l},zv:function(){return f}});var n=t(5861),a=t(4687),s=t.n(a),c=t(1243),u=t(5206);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var i={api_key:"e0723ed903f05e10ff2c0d0ee3dce9dc"},o=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/trending/movie/day",{params:i});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/movie/".concat(r),{params:i});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/movie/".concat(r,"/credits"),{params:i});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/movie/".concat(r,"/reviews"),{params:i});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(){var r,t,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"",t=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=2,e.next=5,c.Z.get("/search/movie?query=".concat(r,"&page=").concat(t),{params:i});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",u.Am.error(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},7752:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(5861),a=t(9439),s=t(4687),c=t.n(s),u=t(7689),i=t(2791),o=t(9760),p=t(2168),f=t(3457),d=t(8828),l=t.p+"static/media/default_user.3ad98a37176f047b65bd.png",h=t(184),v=function(e){var r,t,n=e.author,a=e.avatar,s=e.username,c=e.content,u=e.created;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"m-5",children:[(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)("img",{className:"rounded-circle",src:a?(t=a,t.startsWith("/https:/")?t.slice(1):t.startsWith("/")?(0,d.n)(t):void 0):l,style:{width:50,height:50},alt:n}),(0,h.jsxs)("div",{className:"m-1",children:[(0,h.jsx)("h3",{children:n}),(0,h.jsx)("p",{children:s})]})]}),(0,h.jsx)("p",{children:c}),(0,h.jsxs)("p",{children:["Created: ",(r=u,new Date(r).toLocaleString())]})]})})},m=function(){var e=(0,i.useState)([]),r=(0,a.Z)(e,2),t=r[0],s=r[1],d=(0,i.useState)(null),l=(0,a.Z)(d,2),m=l[0],x=l[1],g=(0,i.useState)(!1),w=(0,a.Z)(g,2),y=w[0],b=w[1],_=(0,u.UO)().id;return(0,i.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,(0,f.tx)(_);case 4:r=e.sent,t=r.results,n=t.map((function(e){var r=e.id,t=e.author,n=e.author_details,a=n.avatar_path;return{id:r,author:t,username:n.username,avatar:a,content:e.content,created:e.created_at}})),s(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),x(e.t0);case 13:return e.prev=13,b(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[_]),(0,h.jsxs)(h.Fragment,{children:[m&&(0,h.jsx)(o.Z,{err:m.message}),y?(0,h.jsx)(p.Z,{}):(0,h.jsx)("ul",{className:"list-group d-flex flex-wrap flex-row justify-content-md-around",children:0!==t.length?t.map((function(e){var r=e.id,t=e.author,n=e.username,a=e.avatar,s=e.content,c=e.created;return(0,h.jsx)("li",{children:(0,h.jsx)(v,{author:t,username:n,content:s,avatar:a,created:c})},r)})):(0,h.jsx)("p",{className:"display-6",children:"No reviews"})})]})}},9760:function(e,r,t){"use strict";t(2791);var n=t(5206),a=t(2007),s=t.n(a),c=t(184),u=function(e){var r=e.err;return(0,c.jsx)(c.Fragment,{children:n.Am.error(r)})};u.propTypes={err:s().string.isRequired},r.Z=u},888:function(e,r,t){"use strict";var n=t(9047);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,r,t,a,s,c){if(c!==n){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:a};return t.PropTypes=t,t}},2007:function(e,r,t){e.exports=t(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=232.6f47473e.chunk.js.map