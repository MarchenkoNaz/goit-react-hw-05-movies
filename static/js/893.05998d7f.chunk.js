(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[893],{8828:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});var n=function(e){return"https://www.themoviedb.org/t/p/w220_and_h330_face".concat(e)}},3457:function(e,t,r){"use strict";r.d(t,{Hg:function(){return o},TP:function(){return p},tx:function(){return l},zi:function(){return d},zv:function(){return f}});var n=r(5861),a=r(4687),s=r.n(a),c=r(1243),u=r(5206);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var i={api_key:"e0723ed903f05e10ff2c0d0ee3dce9dc"},o=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/trending/movie/day",{params:i});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/movie/".concat(t),{params:i});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/movie/".concat(t,"/credits"),{params:i});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/movie/".concat(t,"/reviews"),{params:i});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.Am.error(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(s().mark((function e(){var t,r,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=2,e.next=5,c.Z.get("/search/movie?query=".concat(t,"&page=").concat(r),{params:i});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",u.Am.error(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},893:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(1413),a=r(9439),s=r(2168),c=r(8587),u=r(5861),i=r(4687),o=r.n(i),p=r(2791),f=r(3457),l=r(9760),d=r(184),m=function(e){var t=e.handleSubmit,r=e.setSearchParams,n=e.searchQuery,s=e.setIsLoading,c=(0,p.useState)([]),i=(0,a.Z)(c,2),m=i[0],h=i[1],v=(0,p.useState)(null),x=(0,a.Z)(v,2),g=x[0],b=x[1];(0,p.useEffect)((function(){n&&(0,u.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,(0,f.zi)(n);case 4:t=e.sent,r=t.results,h(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b(e.t0.message);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[n,s]);return(0,d.jsxs)(d.Fragment,{children:[g&&(0,d.jsx)(l.Z,{}),(0,d.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(m)},autoComplete:"off",children:(0,d.jsxs)("div",{className:"input-group m-3",children:[(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter title of the film","aria-label":"Enter title of the film",style:{maxWidth:250},"aria-describedby":"basic-addon2",value:n,onChange:function(e){var t=e.target.value;r({search:t})},required:!0}),(0,d.jsx)("button",{className:"input-group-text",id:"basic-addon2",children:"Search"})]})})]})},h=r(1087),v=function(){var e,t=(0,p.useState)([]),r=(0,a.Z)(t,2),u=r[0],i=r[1],o=(0,h.lr)(),f=(0,a.Z)(o,2),l=f[0],v=f[1],x=(0,p.useState)(!1),g=(0,a.Z)(x,2),b=g[0],y=g[1],w=null!==(e=l.get("search"))&&void 0!==e?e:"",j=(0,p.useCallback)((function(e){y(e)}),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{handleSubmit:function(e){(0,p.startTransition)((function(){return i(e)}))},setSearchParams:v,searchQuery:w,setIsLoading:j}),b&&(0,d.jsx)(s.Z,{}),u?(0,d.jsx)("ul",{className:"list-group d-flex flex-wrap flex-row justify-content-md-around ",children:u.map((function(e){return(0,d.jsx)(c.Z,(0,n.Z)({},e),e.id)}))}):(0,d.jsx)("p",{className:"display-6",children:"There isn't any films with this title"})]})}},9760:function(e,t,r){"use strict";r(2791);var n=r(5206),a=r(2007),s=r.n(a),c=r(184),u=function(e){var t=e.err;return(0,c.jsx)(c.Fragment,{children:n.Am.error(t)})};u.propTypes={err:s().string.isRequired},t.Z=u},8587:function(e,t,r){"use strict";r(2791);var n=r(7689),a=r(1087),s=r(8828),c=r(2757),u=r(184);t.Z=function(e){var t=e.id,r=e.title,i=e.poster_path,o=(0,n.TH)();return(0,u.jsx)("li",{className:"m-2",children:(0,u.jsx)(a.rU,{to:"/movies/".concat(t),state:o,children:(0,u.jsxs)("div",{className:"card",style:{width:"20rem",height:"45rem"},children:[(0,u.jsx)("img",{src:i?(0,s.n)(i):c,className:"card-img-top",alt:r}),(0,u.jsx)("div",{className:"card-body d-flex align-items-center justify-content-center",children:(0,u.jsx)("p",{className:"display-6",children:r})})]})})},t)}},888:function(e,t,r){"use strict";var n=r(9047);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,c){if(c!==n){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},2007:function(e,t,r){e.exports=r(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2757:function(e,t,r){"use strict";e.exports=r.p+"static/media/default.d874a65ec34bf57dcb46.png"}}]);
//# sourceMappingURL=893.05998d7f.chunk.js.map